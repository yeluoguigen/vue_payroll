webpackJsonp([1],{0:function(e,t,a){a("j1ja"),e.exports=a("NHnr")},"4KVo":function(e,t){},"9f2x":function(e,t){},DkwU:function(e,t){},FhoZ:function(e,t,a){"use strict";(function(t){const s=a("o/zv");e.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{},host:"localhost",port:8080,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0},build:{index:s.resolve(t,"../dist/index.html"),assetsRoot:s.resolve(t,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"./",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report},serverURI:"http://39.97.115.161"}}).call(t,"/")},LscO:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),l=a("mvHQ"),r=a.n(l),i=a("woOf"),o=a.n(i),n={created:function(){var e=this;sessionStorage.getItem("store")&&this.$store.replaceState(o()({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",function(){sessionStorage.setItem("store",r()(e.$store.state))})}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=a("VU/8")(n,d,!1,function(e){a("kOLW")},null,null).exports,u=a("/ocq"),m=new s.default,f=a("mtWM"),p=a.n(f),_=a("FhoZ"),h=a.n(_),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e&&t){var r=h.a.serverURI+t;return p()({method:e,url:r,params:a,data:s,headers:l})}},v=a("mw3O"),g=a.n(v),y={data:function(){return{collapse:!1,fullscreen:!1,name:"admin",message:2}},computed:{username:function(){var e=localStorage.getItem("user_id");return e||this.user_id}},methods:{handleCommand:function(e){var t=this;if("loginout"===e){var a={TOKEN:this.$store.state.TOKEN};b("post","/logout",null,g.a.stringify(a),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(e){if(200===e.status){var a=e.data;if("success"===a.results.message){t.$store.commit("SET_USERID","");t.$store.commit("SET_TOKEN",""),window.localStorage&&window.localStorage.removeItem("TOKEN"),t.$router.push("/login")}else t.$message(a.results.message)}}).catch(function(e){console.log(e)})}},collapseChage:function(){this.collapse=!this.collapse,m.$emit("collapse",this.collapse)},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"hhLogo"},[a("div",{staticClass:"logo"},[e._v("考勤工资计算系统")]),e._v(" "),a("div",{staticClass:"collapse-btn",on:{click:e.collapseChage}},[a("i",{staticClass:"el-icon-menu"})])]),e._v(" "),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[a("div",{staticClass:"btn-fullscreen",on:{click:e.handleFullScreen}},[a("el-tooltip",{attrs:{effect:"dark",content:e.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[a("i",{staticClass:"el-icon-rank"})])],1),e._v(" "),e._m(0),e._v(" "),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(this.$store.state.user_id)+"\n          "),e._v(" "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[e._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-avator"},[t("img",{attrs:{src:"static/images/img.jpg"}})])}]};var w={data:function(){return{collapse:!1,icon:["el-icon-setting","el-icon-rank","el-icon-edit-outline","el-icon-document","el-icon-edit","el-icon-tickets","el-icon-edit"],items:[{icon:"el-icon-setting",index:"/enterpriseManagement",title:"考勤录入"},{icon:"el-icon-edit-outline",index:"/staffManagement",title:"考勤审核"}]}},mounted:function(){},methods:{init:function(){var e=this.$store.state.pagaList;if(void 0!==e){for(var t=0;t<e.length;t++){e[t].index=e[t].pageOrder.toString(),e[t].title=e[t].pageName,e[t].subs=e[t].children,void 0===this.icon[t]?e[t].icon=this.icon[t-1]:e[t].icon=this.icon[t];for(var a=0;a<e[t].children.length;a++)e[t].children[a].index=e[t].children[a].pageUrl,e[t].children[a].title=e[t].children[a].pageName}this.items=e}else this.$router.push({path:"/login"})}},created:function(){var e=this;m.$on("collapse",function(t){e.collapse=t})}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":e.$route.path,collapse:e.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""}},["verifier"===this.$store.state.user_type?[a("el-menu-item",{key:e.items[1].index,attrs:{index:e.items[1].index}},[a("i",{class:e.items[1].icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.items[1].title))])])]:[a("el-menu-item",{key:e.items[0].index,attrs:{index:e.items[0].index}},[a("i",{class:e.items[0].icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.items[0].title))])])]],2)],1)},staticRenderFns:[]};var x={data:function(){return{tagsList:[]}},methods:{isActive:function(e){return e===this.$route.fullPath},closeTags:function(e){var t=this.tagsList.splice(e,1)[0],a=this.tagsList[e]?this.tagsList[e]:this.tagsList[e-1];a?t.path===this.$route.fullPath&&this.$router.push(a.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var e=this,t=this.tagsList.filter(function(t){return t.path===e.$route.fullPath});this.tagsList=t},setTags:function(e){this.tagsList.some(function(t){return t.path===e.fullPath})||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:e.meta.title,path:e.fullPath,name:e.matched[1].components.default.name})),m.$emit("tags",this.tagsList)},handleTags:function(e){"other"===e?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(e,t){this.setTags(e)}},created:function(){this.setTags(this.$route)}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showTags?a("div",{staticClass:"tags"},[a("ul",e._l(e.tagsList,function(t,s){return a("li",{key:s,staticClass:"tags-li",class:{active:e.isActive(t.path)}},[a("router-link",{staticClass:"tags-li-title",attrs:{to:t.path}},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"tags-li-icon",on:{click:function(t){return e.closeTags(s)}}},[a("i",{staticClass:"el-icon-close"})])],1)}),0),e._v(" "),a("div",{staticClass:"tags-close-box"},[a("el-dropdown",{on:{command:e.handleTags}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("标签选项\n        "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"other"}},[e._v("关闭其他")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"all"}},[e._v("关闭所有")])],1)],1)],1)]):e._e()},staticRenderFns:[]};var C={data:function(){return{tagsList:[],collapse:!1}},components:{vHead:a("VU/8")(y,F,!1,function(e){a("PMiP")},null,null).exports,vSidebar:a("VU/8")(w,k,!1,function(e){a("DkwU")},"data-v-71ebf510",null).exports,vTags:a("VU/8")(x,$,!1,function(e){a("R59/")},null,null).exports},created:function(){var e=this;m.$on("collapse",function(t){e.collapse=t}),m.$on("tags",function(t){for(var a=[],s=0,l=t.length;s<l;s++)t[s].name&&a.push(t[s].name);e.tagsList=a})}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("v-head"),this._v(" "),t("v-sidebar"),this._v(" "),t("div",{staticClass:"content-box",class:{"content-collapse":this.collapse}},[t("v-tags"),this._v(" "),t("div",{staticClass:"content"},[t("transition",{attrs:{name:"move",mode:"out-in"}},[t("keep-alive",{attrs:{include:this.tagsList}},[t("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var A=a("VU/8")(C,S,!1,function(e){a("lvGi")},null,null).exports,L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),e._v(" "),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你所访问的页面不存在")]),e._v(" "),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1),e._v(" "),a("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回上一页")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-code"},[this._v("4"),t("span",[this._v("0")]),this._v("4")])}]};var D=a("VU/8")({methods:{goBack:function(){this.$router.go(-1)}}},L,!1,function(e){a("4KVo")},"data-v-689c46de",null).exports,N={name:"dashboard",data:function(){return{name:sessionStorage.getItem("user_id"),user_type:sessionStorage.getItem("user_type")}},computed:{role:function(){return"creator"===this.user_type?"审核者":"录入者"}},created:function(){this.init()},activated:function(){},deactivated:function(){window.removeEventListener("resize",this.renderChart),m.$off("collapse",this.handleBus)},methods:{init:function(){console.log(this.$store.state.TOKEN)},handleBus:function(e){var t=this;setTimeout(function(){t.renderChart()},300)},renderChart:function(){this.$refs.bar.renderChart(),this.$refs.line.renderChart()}}},U={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"dash"})},staticRenderFns:[]};var E=a("VU/8")(N,U,!1,function(e){a("iEhR")},"data-v-0bab6232",null).exports,T=a("NC6I"),R=a.n(T),O=(a("ytdl"),{data:function(){return{userState:!0,passwordState:!0,checked:!1,response:"",ruleForm:{username:"",password:""}}},methods:{showPwd:function(){this.checked=!this.checked},userNameFocus:function(){this.$refs.userName.placeholder=""},passwordFocus:function(){this.$refs.password.placeholder=""},submitForm:function(){console.log(this.ruleForm.username),""!==this.ruleForm.username?""!==this.ruleForm.password?this.submitForm1():this.$message.error("请输入密码！"):this.$message.error("请输入用户名！")},submitForm1:function(){var e=this,t={user:this.ruleForm.username,password:this.ruleForm.password};console.log(t);b("post","/loginCheck",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){var a=t.data.results;if(console.log(a.data),200==a.status&"success"==a.message){var s=a.TOKEN;console.log(s),e.$store.commit("SET_TOKEN",s),window.localStorage&&window.localStorage.setItem("TOKEN",s);var l=a.data.user_id;e.$store.commit("SET_USERID",l);var i=a.data.user_type;e.$store.commit("SET_USERTYPE",i);var o=a.data.user_company;e.$store.commit("SET_COMPANYNAME",o);var n=a.data.company_dept;e.$store.commit("SET_DEPARTMENT",n),sessionStorage.setItem("store",r()(e.$store.state)),e.$router.push({path:"/"})}else e.$message.error(a.message)}).catch(function(t){console.log(t),e.response="用户名或密码错误"})},toggleLoading:function(){this.loading=""===this.loading?"loading":""},resetResponse:function(){this.response=""}}}),I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"ms-login"},[a("div",{staticClass:"ms-title",staticStyle:{color:"#000"}},[e._v("登录")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"ms-content",attrs:{model:e.ruleForm,"label-width":"0px"}},[a("el-form-item",[a("span",{staticClass:"registe1"},[e._v("用户名：")]),e._v(" "),a("el-input",{ref:"userName",staticStyle:{width:"78%"},attrs:{placeholder:"请填写用户名"},on:{focus:e.userNameFocus},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username","string"==typeof t?t.trim():t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",[a("span",{staticClass:"registe1"},[e._v("密码：")]),e._v(" "),e.checked?a("el-input",{ref:"password",staticStyle:{width:"78%"},attrs:{type:"text",placeholder:"请填写密码"},on:{focus:e.passwordFocus},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password","string"==typeof t?t.trim():t)},expression:"ruleForm.password"}},[a("i",{staticClass:"el-icon-view passIcon",attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"})]):a("el-input",{ref:"password",staticStyle:{width:"78%"},attrs:{type:"password",placeholder:"请填写密码"},on:{focus:e.passwordFocus},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password","string"==typeof t?t.trim():t)},expression:"ruleForm.password"}},[a("i",{staticClass:"el-icon-view passIcon",attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"})])],1),e._v(" "),a("div",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")])],1)],1),e._v(" "),e.response?a("div",{staticClass:"text-red"},[a("p",[e._v(e._s(e.response))])]):e._e()],1)])},staticRenderFns:[]};var P=a("VU/8")(O,I,!1,function(e){a("9f2x")},null,null).exports,W=a("bOdI"),q=a.n(W),M={data:function(){return{menusData:[],user_Id:"",staff_Dept:"",download_Month:"",Month:"",USD:"USD",CNY:"CNY",query_list:{},oldData:[],tableData:[],staff_deptList:[],process_statusList:[{value:"verifying",name:"审核中"},{value:"rejected",name:"驳回"}],dialogTableVisible:!1,dialogFormVisible:!1,editFormVisible:!1,dialogresetPassword:!1,dialogSetHotel:!1,delVisible:!1,editForm:{id:"",staff_id:"",staff_name:"",staff_dept:"",company:"",date_enroll:"",staff_position:"",basic_salary:"",CNY_USD:"",full_attendance:"",actual_attendance:"",pay_roll_date:"",salary:"",exchange_currency:"",no_attendance:"",overtime_pay:"",performance_pay:"",basic_taxible_sala:"",tax_deduction:"",salary_receivable:"",other_deduction:"",final_salary_CNY:"",final_salary_USD:"",remark:"",process_status:""},dialogSetRole:!1,ruleFormAdd:{id:"",staff_id:"",staff_name:"",staff_dept:"",company:"",date_enroll:"",staff_position:"",basic_salary:"",CNY_USD:"",full_attendance:"",actual_attendance:"",pay_roll_date:"",salary:"",exchange_currency:"",no_attendance:"",overtime_pay:"",performance_pay:"",basic_taxible_sala:"",tax_deduction:"",salary_receivable:"",other_deduction:"",final_salary_CNY:"",final_salary_USD:"",remark:"",process_status:""},multipleSelection:[],multipleSelectionHotel:[],formLabelWidth:"110px",deleteUsreList:"",currentPage:1,total:0,pageSize:2,page:null}},created:function(){this.loadingUserData()},mounted:function(){this.init()},methods:{importExcel:function(e){console.log(event.currentTarget.files[0])},init:function(){},download:function(){var e=this,t={TOKEN:this.$store.state.TOKEN,pay_roll_date:this.download_Month};b("post","/payRollExcel",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(200===t.status){var a=t.data.results;if("200"===a.status){var s=h.a.serverURI+"/payRollExcel?filename="+a.file;console.log(s),window.open(s),e.$message("生成表格成功")}else 403===a.status&&e.$message(a.message)}}).catch(function(e){console.log(e)})},loadingUserData:function(){var e=this;this.staff_deptList=this.$store.state.company_dept;var t={TOKEN:this.$store.state.TOKEN};b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(200===t.status){var a=t.data;if(console.log(a),200===a.results.status){var s=a.results.result;e.tableData=s,e.oldData=s,e.total=a.count}else 403===a.results.status&&e.$message(a.results.message)}}).catch(function(e){console.log(e)})},userChange:function(){},searchUser:function(){""===this.Month&&""===this.user_Id&&""===this.staff_Dept?this.$message("请填入搜索条件，进行搜索"):(s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),s.default.set(this.query_list,"pay_roll_date",this.Month),s.default.set(this.query_list,"staff_id",this.user_Id),s.default.set(this.query_list,"staff_dept",this.staff_Dept),""===this.Month&&s.default.delete(this.query_list,"pay_roll_date"),""===this.user_Id&&s.default.delete(this.query_list,"staff_id"),""===this.staff_Dept&&s.default.delete(this.query_list,"staff_dept"),this.page&&(this.currentPage=1,s.default.delete(this.query_list,"page")),console.log(this.query_list),this.searchUserJiekou())},searchUserJiekou:function(){var e=this,t=this.query_list;b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(console.log(t),200===t.status){e.total=t.data.count;var a=t.data.results;if(console.log(a),"success"===a.message){var s=a.result;e.tableData=s,e.oldData=s,console.log(e.tableData)}else 403===a.status&&e.$message(a.message)}}).catch(function(e){console.log(e)})},reset_serach:function(){this.user_Id="",this.Month="",this.staff_Dept="",this.query_list={TOKEN:this.$store.state.TOKEN},this.loadingUserData()},editUser:function(e,t){this.idx=e;var a=this.tableData[e];this.editForm=q()({id:a.id,staff_id:a.staff_id,company:a.company,staff_dept:a.staff_dept,staff_name:a.staff_name,date_enroll:a.date_enroll,staff_position:a.staff_position,CNY_USD:a.CNY_USD,basic_salary:a.basic_salary,full_attendance:a.full_attendance,actual_attendance:a.actual_attendance,pay_roll_date:a.pay_roll_date,salary:a.salary,exchange_currency:a.exchange_currency,no_attendance:a.no_attendance,overtime_pay:a.overtime_pay,performance_pay:a.performance_pay,basic_taxible_sala:a.basic_taxible_sala,tax_deduction:a.tax_deduction,salary_receivable:a.salary_receivable,other_deduction:a.other_deduction,final_salary_CNY:a.final_salary_CNY,final_salary_USD:a.final_salary_USD,remark:a.remark,process_status:a.process_status},"remark",a.remark),this.editFormVisible=!0},saveEditUser:function(){var e=this,t={id:this.editForm.id,staff_id:this.editForm.staff_id,company:this.editForm.company,staff_dept:this.editForm.staff_dept,staff_name:this.editForm.staff_name,date_enroll:this.editForm.date_enroll,staff_position:this.editForm.staff_position,CNY_USD:this.editForm.CNY_USD,basic_salary:this.editForm.basic_salary,full_attendance:this.editForm.full_attendance,actual_attendance:this.editForm.actual_attendance,pay_roll_date:this.editForm.pay_roll_date,salary:this.editForm.salary,exchange_currency:this.editForm.exchange_currency,no_attendance:this.editForm.no_attendance,overtime_pay:this.editForm.overtime_pay,performance_pay:this.editForm.performance_pay,basic_taxible_sala:this.editForm.basic_taxible_sala,tax_deduction:this.editForm.tax_deduction,salary_receivable:this.editForm.salary_receivable,other_deduction:this.editForm.other_deduction,final_salary_CNY:this.editForm.final_salary_CNY,final_salary_USD:this.editForm.final_salary_USD,remark:this.editForm.remark,process_status:this.editForm.process_status,TOKEN:this.$store.state.TOKEN};console.log(t);b("put","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(console.log(t),201===t.status){var a=t.data.results;if("success"===a.message){var s=a.result;e.tableData=s,console.log(e.tableData),e.editFormVisible=!1,e.$message("修改成功"),e.loadingUserData()}else 400===a.status?e.$message(a.message):403===a.status&&e.$message("认证失败，请重新登录")}}).catch(function(t){console.log(t),e.editFormVisible=!1,e.loadingUserData()})},addUser:function(){var e=this;if(console.log(this.ruleFormAdd.company),""!==this.ruleFormAdd.staff_dept)if(""!==this.ruleFormAdd.staff_name)if(""!==this.ruleFormAdd.staff_id)if(""!==this.ruleFormAdd.full_attendance)if(""!==this.ruleFormAdd.pay_roll_date){console.log(this.ruleFormAdd),this.ruleFormAdd.company=this.$store.state.user_company,this.ruleFormAdd.TOKEN=this.$store.state.TOKEN;var t=this.ruleFormAdd;b("post","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(201===t.status){var a=t.data.results;200===a.status?(console.log(a.result),e.$message("增加考勤记录成功")):400===a.status?e.$message.error(a.message.staff_dept):403===a.status&&e.$message.error("权限认证失败")}e.ruleFormAdd={},e.dialogFormVisible=!1,e.loadingUserData()}).catch(function(e){console.log(e)})}else this.$message.error("批次为必填项，请填写之后再保存！");else this.$message.error("全勤为必填项，请填写之后再保存！");else this.$message.error("工号为必填项，请填写之后再保存！");else this.$message.error("姓名为必填项，请填写之后再保存！");else this.$message.error("部门为必填项，请填写之后再保存！")},setRoles:function(e){this.userNo=e.userNo;var t={UserNo:this.userNo};console.log(t),this.roleList=t.roleList,this.dialogSetRole=!0},roleSettingsCanceled:function(){this.$refs.multipleTable.clearSelection(),this.dialogSetRole=!1},show:function(){var e=this;s.default.nextTick(function(t){for(var a=0;a<e.roleList.length;a++)!0===e.roleList[a].isCheck?e.$refs.multipleTable.toggleRowSelection(e.roleList[a],!0):e.$refs.multipleTable.toggleRowSelection(e.roleList[0],!0)})},setRole:function(){var e=[];this.multipleSelection.forEach(function(t){e.push(t.roleId)});var t={UserNo:this.userNo,RoleList:e};console.log(t),this.$message("角色分配成功"),this.dialogSetRole=!1},editResetPassword:function(){""===this.resetPasswordForm.newPassword?this.$message("请填写新密码"):""===this.resetPasswordForm.comformPassword1?this.$message("请填写确认密码"):this.resetPasswordForm.newPassword!==this.resetPasswordForm.comformPassword1?(this.$message("两次密码填写不一致"),this.resetPasswordForm.comformPassword1=""):this.savePassword()},savePassword:function(){var e={UserNo:this.resetPasswordForm.userNo,Password:R()(this.resetPasswordForm.newPassword)};console.log(e),this.resetPasswordForm={},this.dialogresetPassword=!1,this.$message("密码修改成功")},handleDelete:function(e,t){this.idx=e,this.delVisible=!0,this.deleteUsreList=t},deleteRow:function(){var e=this,t={id:this.deleteUsreList.id,TOKEN:this.$store.state.TOKEN};console.log(t);b("delete","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(204===t.status){var a=t.data;200==a.status?(console.log(a.data),e.$message.success("删除成功"),e.loadingUserData()):400==a.status?e.$message.error(a.message):403==a.status&&e.$message.error("权限认证失败")}}).catch(function(e){console.log(e)}),this.delVisible=!1,this.loadingUserData()},handleCurrentChange:function(e){console.log("跳转到第 "+e+" 页"),this.cur_page=e,this.page=1===e?null:e,""===this.Month&&""===this.user_Id&&""===this.staff_Dept?(s.default.set(this.query_list,"page",this.page),s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),this.gengxin()):(s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),s.default.set(this.query_list,"pay_roll_date",this.Month),s.default.set(this.query_list,"staff_id",this.user_Id),s.default.set(this.query_list,"staff_dept",this.staff_Dept),s.default.set(this.query_list,"page",this.page),""===this.Month&&s.default.delete(this.query_list,"pay_roll_date"),""===this.user_Id&&s.default.delete(this.query_list,"staff_id"),""===this.staff_Dept&&s.default.delete(this.query_list,"staff_dept"),null===this.page&&s.default.delete(this.query_list,"page"),console.log(this.query_list),this.gengxin())},gengxin:function(){var e=this,t=this.query_list;b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(200===t.status){var a=t.data;if(console.log(a),200===a.results.status){var s=a.results.result;e.tableData=s,e.oldData=s,e.total=a.count}else 403===a.results.status&&e.$message(a.results.message);return e.tableData}}).catch(function(e){console.log(e)})}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staffSet"},[a("div",{},[a("div",{staticClass:"handle-box"},[a("div",[a("div",{staticClass:"headerTitle",on:{click:function(t){e.dialogFormVisible=!0}}},[a("i",{staticClass:"el-icon-circle-plus-outline headerIcon"}),e._v(" "),a("span",[e._v("添加")])]),e._v(" "),a("span",{staticStyle:{color:"#606266"}},[e._v("批次 : ")]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.download_Month,callback:function(t){e.download_Month=t},expression:"download_Month"}}),e._v(" "),a("div",{staticClass:"headerTitle",on:{click:e.download}},[a("i",{staticClass:"el-icon-download headerIcon"}),e._v(" "),a("span",[e._v("导出")])])],1),e._v(" "),a("div",{staticClass:"staffSerchList"},[a("div",{staticClass:"staffSerchList1"},[a("span",{staticStyle:{color:"#606266"}},[e._v("员工工号：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入员工工号搜索"},on:{input:e.userChange},model:{value:e.user_Id,callback:function(t){e.user_Id="string"==typeof t?t.trim():t},expression:"user_Id"}})],1),e._v(" "),a("div",{staticClass:"staffSerchList1"},[a("span",{staticStyle:{color:"#606266"}},[e._v("部门：")]),e._v(" "),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入部门搜索"},on:{input:e.userChange},model:{value:e.staff_Dept,callback:function(t){e.staff_Dept="string"==typeof t?t.trim():t},expression:"staff_Dept"}})],1),e._v(" "),a("div",{staticClass:"staffSerchList1"},[a("span",{staticStyle:{color:"#606266"}},[e._v("批次 : ")]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.Month,callback:function(t){e.Month=t},expression:"Month"}})],1)]),e._v(" "),a("div",{staticClass:"staffSerchBtn"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchUser}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset_serach}},[e._v("重置")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",label:"工号",prop:"staff_id",align:"center",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",prop:"staff_dept",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"staff_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"入职时间",prop:"date_enroll",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"职位",prop:"staff_position",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"基本工资",prop:"basic_salary",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"全勤天数",prop:"full_attendance",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"实际出勤天数",prop:"actual_attendance",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"批次",prop:"pay_roll_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editUser(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),e._v(" "),a("el-dialog",{attrs:{inline:!0,title:"新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{inline:!0},model:{value:e.ruleFormAdd,callback:function(t){e.ruleFormAdd=t},expression:"ruleFormAdd"}},[a("el-form-item",{attrs:{label:"企业名称",prop:"company","label-width":e.formLabelWidth}},[a("span",[e._v(e._s(this.$store.state.user_company))])]),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormAdd.staff_dept,callback:function(t){e.$set(e.ruleFormAdd,"staff_dept",t)},expression:"ruleFormAdd.staff_dept"}},e._l(e.staff_deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工号","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_id,callback:function(t){e.$set(e.ruleFormAdd,"staff_id","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_name,callback:function(t){e.$set(e.ruleFormAdd,"staff_name","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_position,callback:function(t){e.$set(e.ruleFormAdd,"staff_position","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.ruleFormAdd.date_enroll,callback:function(t){e.$set(e.ruleFormAdd,"date_enroll",t)},expression:"ruleFormAdd.date_enroll"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基本工资",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.basic_salary,callback:function(t){e.$set(e.ruleFormAdd,"basic_salary","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.basic_salary"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"币种","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.ruleFormAdd.CNY_USD,callback:function(t){e.$set(e.ruleFormAdd,"CNY_USD",t)},expression:"ruleFormAdd.CNY_USD"}},[a("el-radio",{attrs:{label:"USD"}},[e._v("$")]),e._v(" "),a("el-radio",{attrs:{label:"CNY"}},[e._v("￥")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.salary,callback:function(t){e.$set(e.ruleFormAdd,"salary","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.salary"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"全勤天数",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.full_attendance,callback:function(t){e.$set(e.ruleFormAdd,"full_attendance","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.full_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"未出勤天数","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.no_attendance,callback:function(t){e.$set(e.ruleFormAdd,"no_attendance","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.no_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际出勤天数",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.actual_attendance,callback:function(t){e.$set(e.ruleFormAdd,"actual_attendance","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.actual_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绩效工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.performance_pay,callback:function(t){e.$set(e.ruleFormAdd,"performance_pay","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.performance_pay"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纳税工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.basic_taxible_salar,callback:function(t){e.$set(e.ruleFormAdd,"basic_taxible_salar","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.basic_taxible_salar"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代扣税金","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.tax_deduction,callback:function(t){e.$set(e.ruleFormAdd,"tax_deduction","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.tax_deduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应收工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.salary_receivable,callback:function(t){e.$set(e.ruleFormAdd,"salary_receivable","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.salary_receivable"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他扣款","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.other_deduction,callback:function(t){e.$set(e.ruleFormAdd,"other_deduction","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.other_deduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实发工资人民币","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.final_salary_CNY,callback:function(t){e.$set(e.ruleFormAdd,"final_salary_CNY","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.final_salary_CNY"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实发工资美金","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.final_salary_USD,callback:function(t){e.$set(e.ruleFormAdd,"final_salary_USD","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.final_salary_USD"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次",required:!0,"label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.ruleFormAdd.pay_roll_date,callback:function(t){e.$set(e.ruleFormAdd,"pay_roll_date",t)},expression:"ruleFormAdd.pay_roll_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处理状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormAdd.process_status,callback:function(t){e.$set(e.ruleFormAdd,"process_status",t)},expression:"ruleFormAdd.process_status"}},e._l(e.process_statusList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.remark,callback:function(t){e.$set(e.ruleFormAdd,"remark",t)},expression:"ruleFormAdd.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{inline:!0,title:"修改",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{inline:!0},model:{value:e.editForm,callback:function(t){e.editForm=t},expression:"editForm"}},[a("el-form-item",{attrs:{label:"企业名称",prop:"company","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.company,callback:function(t){e.$set(e.editForm,"company","string"==typeof t?t.trim():t)},expression:"editForm.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.staff_dept,callback:function(t){e.$set(e.editForm,"staff_dept",t)},expression:"editForm.staff_dept"}},e._l(e.staff_deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工号",prop:"staff_id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0},model:{value:e.editForm.staff_id,callback:function(t){e.$set(e.editForm,"staff_id","string"==typeof t?t.trim():t)},expression:"editForm.staff_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"staff_name","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.staff_name,callback:function(t){e.$set(e.editForm,"staff_name","string"==typeof t?t.trim():t)},expression:"editForm.staff_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间",prop:"date_enroll","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.date_enroll,callback:function(t){e.$set(e.editForm,"date_enroll","string"==typeof t?t.trim():t)},expression:"editForm.date_enroll"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"staff_position","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.staff_position,callback:function(t){e.$set(e.editForm,"staff_position","string"==typeof t?t.trim():t)},expression:"editForm.staff_position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基本工资",prop:"basic_salary","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.basic_salary,callback:function(t){e.$set(e.editForm,"basic_salary","string"==typeof t?t.trim():t)},expression:"editForm.basic_salary"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"币种","label-width":e.formLabelWidth}},[a("el-radio",{attrs:{label:e.USD},model:{value:e.editForm.CNY_USD,callback:function(t){e.$set(e.editForm,"CNY_USD",t)},expression:"editForm.CNY_USD"}},[e._v("$")]),e._v(" "),a("el-radio",{attrs:{label:e.CNY},model:{value:e.editForm.CNY_USD,callback:function(t){e.$set(e.editForm,"CNY_USD",t)},expression:"editForm.CNY_USD"}},[e._v("￥")])],1),e._v(" "),a("el-form-item",{attrs:{label:"全勤天数",prop:"full_attendance","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.full_attendance,callback:function(t){e.$set(e.editForm,"full_attendance","string"==typeof t?t.trim():t)},expression:"editForm.full_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"未出勤天数","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.no_attendance,callback:function(t){e.$set(e.editForm,"no_attendance","string"==typeof t?t.trim():t)},expression:"editForm.no_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际出勤天数",prop:"actual_attendance","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.actual_attendance,callback:function(t){e.$set(e.editForm,"actual_attendance","string"==typeof t?t.trim():t)},expression:"editForm.actual_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绩效工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.performance_pay,callback:function(t){e.$set(e.editForm,"performance_pay","string"==typeof t?t.trim():t)},expression:"editForm.performance_pay"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纳税工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.basic_taxible_salar,callback:function(t){e.$set(e.editForm,"basic_taxible_salar","string"==typeof t?t.trim():t)},expression:"editForm.basic_taxible_salar"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代扣税金","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.tax_deduction,callback:function(t){e.$set(e.editForm,"tax_deduction","string"==typeof t?t.trim():t)},expression:"editForm.tax_deduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应收工资","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.salary_receivable,callback:function(t){e.$set(e.editForm,"salary_receivable","string"==typeof t?t.trim():t)},expression:"editForm.salary_receivable"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他扣款","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.other_deduction,callback:function(t){e.$set(e.editForm,"other_deduction","string"==typeof t?t.trim():t)},expression:"editForm.other_deduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实发工资人民币","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.final_salary_CNY,callback:function(t){e.$set(e.editForm,"final_salary_CNY","string"==typeof t?t.trim():t)},expression:"editForm.final_salary_CNY"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实发工资美金","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.final_salary_USD,callback:function(t){e.$set(e.editForm,"final_salary_USD","string"==typeof t?t.trim():t)},expression:"editForm.final_salary_USD"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次",prop:"pay_roll_date","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.editForm.pay_roll_date,callback:function(t){e.$set(e.editForm,"pay_roll_date",t)},expression:"editForm.pay_roll_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处理状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.process_status,callback:function(t){e.$set(e.editForm,"process_status",t)},expression:"editForm.process_status"}},e._l(e.process_statusList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark","string"==typeof t?t.trim():t)},expression:"editForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEditUser}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[a("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var K=a("VU/8")(M,Y,!1,function(e){a("n1/T")},null,null).exports,V={data:function(){return{menusData:[],user_Id:"",staff_Dept:"",isEnable:"",oldData:[],tableData:[],Month:"",USD:"USD",CNY:"CNY",query_list:{},staff_deptList:[],process_statusList:[{value:"pending",name:"录入中"},{value:"verifying",name:"审核中"},{value:"completed",name:"已生成"}],dialogTableVisible:!1,dialogFormVisible:!1,editFormVisible:!1,dialogresetPassword:!1,dialogSetHotel:!1,delVisible:!1,editForm:{id:"",staff_id:"",staff_name:"",staff_dept:"",company:"",date_enroll:"",staff_position:"",basic_salary:"",CNY_USD:"",full_attendance:"",actual_attendance:"",pay_roll_date:"",remark:""},dialogSetRole:!1,ruleFormAdd:{staff_id:"",staff_name:"",staff_dept:"",company:"",date_enroll:"",staff_position:"",basic_salary:"",CNY_USD:"USD",full_attendance:"",actual_attendance:"",pay_roll_date:"",remark:"",process_status:""},userNo:"",multipleSelection:[],multipleSelectionHotel:[],formLabelWidth:"110px",deleteUsreList:"",currentPage:1,total:0,pageSize:2,page:null}},created:function(){this.loadingUserData()},mounted:function(){this.init()},methods:{importExcel:function(e){console.log(event.currentTarget.files[0])},init:function(){},loadingUserData:function(){var e=this;this.staff_deptList=this.$store.state.company_dept;var t={TOKEN:this.$store.state.TOKEN};console.log(this.$store.state.TOKEN),console.log(t);b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(200===t.status){var a=t.data;if(console.log(a),200===a.results.status){var s=a.results.result;e.tableData=s,e.oldData=s,e.total=a.count}else 403===a.results.status&&e.$message(a.results.message)}}).catch(function(e){console.log(e)})},userChange:function(){},searchUser:function(){""===this.Month&&""===this.user_Id&&""===this.staff_Dept?this.$message("请填入搜索条件，进行搜索"):(s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),s.default.set(this.query_list,"pay_roll_date",this.Month),s.default.set(this.query_list,"staff_id",this.user_Id),s.default.set(this.query_list,"staff_dept",this.staff_Dept),""===this.Month&&s.default.delete(this.query_list,"pay_roll_date"),""===this.user_Id&&s.default.delete(this.query_list,"staff_id"),""===this.staff_Dept&&s.default.delete(this.query_list,"staff_dept"),console.log(this.query_list),this.searchUserJiekou())},searchUserJiekou:function(){var e=this,t=this.query_list;b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(console.log(t),200===t.status){e.total=t.data.count;var a=t.data.results;if(console.log(a),"success"===a.message){var s=a.result;e.tableData=s,e.oldData=s,console.log(e.tableData)}else 403===a.status&&e.$message(a.message)}}).catch(function(e){console.log(e)})},reset_serach:function(){this.user_Id="",this.Month="",this.staff_Dept="",this.query_list={TOKEN:this.$store.state.TOKEN},this.loadingUserData()},editUser:function(e,t){this.idx=e;var a=this.tableData[e];this.editForm={id:a.id,staff_id:a.staff_id,company:a.company,staff_dept:a.staff_dept,staff_name:a.staff_name,date_enroll:a.date_enroll,staff_position:a.staff_position,CNY_USD:a.CNY_USD,basic_salary:a.basic_salary,full_attendance:a.full_attendance,actual_attendance:a.actual_attendance,pay_roll_date:a.pay_roll_date,remark:a.remark,process_status:a.process_status},this.editFormVisible=!0},saveEditUser:function(){var e=this,t={id:this.editForm.id,staff_id:this.editForm.staff_id,company:this.editForm.company,staff_dept:this.editForm.staff_dept,staff_name:this.editForm.staff_name,date_enroll:this.editForm.date_enroll,staff_position:this.editForm.staff_position,CNY_USD:this.editForm.CNY_USD,basic_salary:this.editForm.basic_salary,full_attendance:this.editForm.full_attendance,actual_attendance:this.editForm.actual_attendance,pay_roll_date:this.editForm.pay_roll_date,remark:this.editForm.remark,process_status:this.editForm.process_status,TOKEN:this.$store.state.TOKEN};console.log(this.editForm);b("put","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(console.log(t),201===t.status){var a=t.data.results;if("success"===a.message){var s=a.result;e.tableData=s,console.log(e.tableData),e.editFormVisible=!1,e.$message("修改成功"),e.loadingUserData()}else 400===a.status?e.$message(a.message):403===a.status&&e.$message("认证失败，请重新登录")}}).catch(function(t){console.log(t),e.editFormVisible=!1,e.loadingUserData()})},addUser:function(){var e=this;if(console.log(this.ruleFormAdd.company),""!==this.ruleFormAdd.staff_dept)if(""!==this.ruleFormAdd.staff_name)if(""!==this.ruleFormAdd.staff_id)if(""!==this.ruleFormAdd.full_attendance)if(""!==this.ruleFormAdd.pay_roll_date){console.log(this.ruleFormAdd),this.ruleFormAdd.company=this.$store.state.user_company,this.ruleFormAdd.TOKEN=this.$store.state.TOKEN;var t=this.ruleFormAdd;b("post","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(201===t.status){var a=t.data.results;200===a.status?(console.log(a.result),e.$message("增加考勤记录成功")):400===a.status?e.$message.error(a.message.staff_dept):403===a.status&&e.$message.error("权限认证失败")}e.ruleFormAdd={},e.dialogFormVisible=!1,e.loadingUserData()}).catch(function(e){console.log(e)})}else this.$message.error("批次为必填项，请填写之后再保存！");else this.$message.error("全勤为必填项，请填写之后再保存！");else this.$message.error("工号为必填项，请填写之后再保存！");else this.$message.error("姓名为必填项，请填写之后再保存！");else this.$message.error("部门为必填项，请填写之后再保存！")},companyDetails:function(e){this.dialogresetPassword=!0,this.resetPasswordForm.userNo=e.userNo},editResetPassword:function(){""===this.resetPasswordForm.newPassword?this.$message("请填写新密码"):""===this.resetPasswordForm.comformPassword1?this.$message("请填写确认密码"):this.resetPasswordForm.newPassword!==this.resetPasswordForm.comformPassword1?(this.$message("两次密码填写不一致"),this.resetPasswordForm.comformPassword1=""):this.savePassword()},savePassword:function(){var e={UserNo:this.resetPasswordForm.userNo,Password:md5(this.resetPasswordForm.newPassword)};console.log(e),this.resetPasswordForm={},this.dialogresetPassword=!1,this.$message("密码修改成功")},handleDelete:function(e,t){this.idx=e,this.delVisible=!0,this.deleteUsreList=t},deleteRow:function(){var e=this,t={id:this.deleteUsreList.id,TOKEN:this.$store.state.TOKEN};console.log(t);b("delete","/api.json",null,g.a.stringify(t),{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(204===t.status){var a=t.data;200==a.status?(console.log(a.data),e.$message.success("删除成功"),e.loadingUserData()):400==a.status?e.$message.error(a.message):403==a.status&&e.$message.error("权限认证失败")}}).catch(function(e){console.log(e)}),this.delVisible=!1,this.loadingUserData()},handleCurrentChange:function(e){console.log("跳转到第 "+e+" 页"),this.cur_page=e,this.page=1===e?null:e,""===this.Month&&""===this.user_Id&&""===this.staff_Dept?(s.default.set(this.query_list,"page",this.page),s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),this.gengxin()):(s.default.set(this.query_list,"TOKEN",this.$store.state.TOKEN),s.default.set(this.query_list,"pay_roll_date",this.Month),s.default.set(this.query_list,"staff_id",this.user_Id),s.default.set(this.query_list,"staff_dept",this.staff_Dept),s.default.set(this.query_list,"page",this.page),""===this.Month&&s.default.delete(this.query_list,"pay_roll_date"),""===this.user_Id&&s.default.delete(this.query_list,"staff_id"),""===this.staff_Dept&&s.default.delete(this.query_list,"staff_dept"),null===this.page&&s.default.delete(this.query_list,"page"),console.log(this.query_list),this.gengxin())},gengxin:function(){var e=this,t=this.query_list;b("get","/api.json",t,null,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){if(200===t.status){var a=t.data;if(console.log(a),200===a.results.status){var s=a.results.result;e.tableData=s,e.oldData=s,e.total=a.count}else 403===a.results.status&&e.$message(a.results.message);return e.tableData}}).catch(function(e){console.log(e)})}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enterpriseSet"},[a("div",{},[a("div",{staticClass:"handle-box"},[a("div",[a("div",{staticClass:"headerTitle",on:{click:function(t){e.dialogFormVisible=!0}}},[a("i",{staticClass:"el-icon-circle-plus-outline headerIcon"}),e._v(" "),a("span",[e._v("新增考勤")])])]),e._v(" "),a("div",{staticClass:"enterpriseSerchList"},[a("div",{staticClass:"enterpriseSerchList1"},[a("span",{staticStyle:{color:"#606266"}},[e._v("员工工号：")]),e._v(" "),a("el-input",{staticStyle:{width:"18%"},attrs:{placeholder:"请输入员工工号搜索"},on:{input:e.userChange},model:{value:e.user_Id,callback:function(t){e.user_Id="string"==typeof t?t.trim():t},expression:"user_Id"}}),e._v(" "),a("span",{staticStyle:{color:"#606266"}},[e._v("部门：")]),e._v(" "),a("el-input",{staticStyle:{width:"18%"},attrs:{placeholder:"请输入部门搜索"},on:{input:e.userChange},model:{value:e.staff_Dept,callback:function(t){e.staff_Dept="string"==typeof t?t.trim():t},expression:"staff_Dept"}}),e._v(" "),a("span",{staticStyle:{color:"#606266"}},[e._v("批次 : ")]),e._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.Month,callback:function(t){e.Month=t},expression:"Month"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchUser}},[e._v("提交")])],1)]),e._v(" "),a("div",{staticClass:"enterpriseSerchBtn"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchUser}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset_serach}},[e._v("重置")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",label:"工号",prop:"staff_id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",prop:"staff_dept",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"staff_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"入职时间",prop:"date_enroll",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"职位",prop:"staff_position",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"基本工资",prop:"basic_salary",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"全勤天数",prop:"full_attendance",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"实际出勤天数",prop:"actual_attendance",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"批次",prop:"pay_roll_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editUser(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),e._v(" "),a("el-dialog",{attrs:{inline:!0,title:"新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{inline:!0},model:{value:e.ruleFormAdd,callback:function(t){e.ruleFormAdd=t},expression:"ruleFormAdd"}},[a("el-form-item",{attrs:{label:"企业名称","label-width":e.formLabelWidth}},[a("span",[e._v(e._s(this.$store.state.user_company))])]),e._v(" "),a("el-form-item",{attrs:{required:!0,label:"部门","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormAdd.staff_dept,callback:function(t){e.$set(e.ruleFormAdd,"staff_dept",t)},expression:"ruleFormAdd.staff_dept"}},e._l(e.staff_deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工号","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_id,callback:function(t){e.$set(e.ruleFormAdd,"staff_id","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_name,callback:function(t){e.$set(e.ruleFormAdd,"staff_name","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.staff_position,callback:function(t){e.$set(e.ruleFormAdd,"staff_position","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.staff_position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.ruleFormAdd.date_enroll,callback:function(t){e.$set(e.ruleFormAdd,"date_enroll",t)},expression:"ruleFormAdd.date_enroll"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基本工资",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.basic_salary,callback:function(t){e.$set(e.ruleFormAdd,"basic_salary","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.basic_salary"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"币种","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.ruleFormAdd.CNY_USD,callback:function(t){e.$set(e.ruleFormAdd,"CNY_USD",t)},expression:"ruleFormAdd.CNY_USD"}},[a("el-radio",{attrs:{label:"USD"}},[e._v("$")]),e._v(" "),a("el-radio",{attrs:{label:"CNY"}},[e._v("￥")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"全勤天数",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.full_attendance,callback:function(t){e.$set(e.ruleFormAdd,"full_attendance","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.full_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际出勤天数",required:!0,"label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.actual_attendance,callback:function(t){e.$set(e.ruleFormAdd,"actual_attendance","string"==typeof t?t.trim():t)},expression:"ruleFormAdd.actual_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次",required:!0,"label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.ruleFormAdd.pay_roll_date,callback:function(t){e.$set(e.ruleFormAdd,"pay_roll_date",t)},expression:"ruleFormAdd.pay_roll_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处理状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleFormAdd.process_status,callback:function(t){e.$set(e.ruleFormAdd,"process_status",t)},expression:"ruleFormAdd.process_status"}},e._l(e.process_statusList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.ruleFormAdd.remark,callback:function(t){e.$set(e.ruleFormAdd,"remark",t)},expression:"ruleFormAdd.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",model:{value:e.editForm,callback:function(t){e.editForm=t},expression:"editForm"}},[a("el-form-item",{attrs:{label:"工号",prop:"staff_id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:!0},model:{value:e.editForm.staff_id,callback:function(t){e.$set(e.editForm,"staff_id","string"==typeof t?t.trim():t)},expression:"editForm.staff_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"staff_name","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.staff_name,callback:function(t){e.$set(e.editForm,"staff_name","string"==typeof t?t.trim():t)},expression:"editForm.staff_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"企业名称",prop:"company","label-width":e.formLabelWidth}},[a("span",[e._v(e._s(this.$store.state.user_company))])]),e._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.staff_dept,callback:function(t){e.$set(e.editForm,"staff_dept",t)},expression:"editForm.staff_dept"}},e._l(e.staff_deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"入职时间",prop:"date_enroll","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.date_enroll,callback:function(t){e.$set(e.editForm,"date_enroll","string"==typeof t?t.trim():t)},expression:"editForm.date_enroll"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"staff_position","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.staff_position,callback:function(t){e.$set(e.editForm,"staff_position","string"==typeof t?t.trim():t)},expression:"editForm.staff_position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"基本工资",prop:"basic_salary","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.basic_salary,callback:function(t){e.$set(e.editForm,"basic_salary","string"==typeof t?t.trim():t)},expression:"editForm.basic_salary"}}),e._v(" "),a("el-radio",{attrs:{label:e.USD},model:{value:e.editForm.CNY_USD,callback:function(t){e.$set(e.editForm,"CNY_USD",t)},expression:"editForm.CNY_USD"}},[e._v("$")]),e._v(" "),a("el-radio",{attrs:{label:e.CNY},model:{value:e.editForm.CNY_USD,callback:function(t){e.$set(e.editForm,"CNY_USD",t)},expression:"editForm.CNY_USD"}},[e._v("￥")])],1),e._v(" "),a("el-form-item",{attrs:{label:"全勤天数",prop:"full_attendance","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.full_attendance,callback:function(t){e.$set(e.editForm,"full_attendance","string"==typeof t?t.trim():t)},expression:"editForm.full_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际出勤天数",prop:"actual_attendance","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.actual_attendance,callback:function(t){e.$set(e.editForm,"actual_attendance","string"==typeof t?t.trim():t)},expression:"editForm.actual_attendance"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次",prop:"pay_roll_date","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择批次","value-format":"yyyyMM"},model:{value:e.editForm.pay_roll_date,callback:function(t){e.$set(e.editForm,"pay_roll_date",t)},expression:"editForm.pay_roll_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处理状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.process_status,callback:function(t){e.$set(e.editForm,"process_status",t)},expression:"editForm.process_status"}},e._l(e.process_statusList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark","string"==typeof t?t.trim():t)},expression:"editForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveEditUser}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[a("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var B=a("VU/8")(V,j,!1,function(e){a("LscO")},null,null).exports;s.default.use(u.a);var z=new u.a({mode:"hash",routes:[{path:"/login",component:P},{path:"/",component:A,meta:{title:"公共组件"},children:[{path:"/dashboard",component:E,alias:"",meta:{title:"系统首页"},beforeEnter:function(e,t,a){null===window.localStorage.getItem("TOKEN")?a({path:"/login"}):a()}},{path:"/staffManagement",component:K,meta:{title:"考勤审核"}},{path:"/enterpriseManagement",component:B,meta:{title:"考勤录入"}},{path:"/404",component:D,meta:{title:"404"}}]}]}),G=a("NYxO");new function(e){this.get=function(){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):""},this.set=function(t){localStorage.setItem(e,r()(t))},this.clear=function(){localStorage.removeItem(e)}}("Attendance_Record");s.default.use(G.a);var H=new G.a.Store({state:{callingAPI:!1,operation:null,serverURI:"http://39.97.115.161",previous:null,group:null,next:null,TOKEN:null,sencename:null,user_id:null,user_type:null,user_company:null,company_dept:null,add:null,edit:null,pagaList:null,robotInfo:{roomNumber:"",isUrl:!1,url:"",isAlias:!1,alias:"",controlCompanyIndex:"",robotCompanyIndex:"",snCode:"",macAddress:"",isScene:!1,scene:""},commandInfo:{command:"",description:"",comment:""}},actions:{add:function(e,t){return(0,e.commit)("ADD",{items:t})},edit:function(e,t){return(0,e.commit)("ADD",{id:t})}},mutations:{TOGGLE_LOADING:function(e){e.callingAPI=!e.callingAPI},TOGGLE_SEARCHING:function(e){e.searching=""===e.searching?"loading":""},SET_NICKNAME:function(e,t){e.username=t},SET_USERID:function(e,t){e.user_id=t},SET_USERTYPE:function(e,t){e.user_type=t},SET_COMPANYNAME:function(e,t){e.user_company=t},SET_DEPARTMENT:function(e,t){e.company_dept=t},SET_DECODED:function(e,t){e.decoded=t},SET_TOKEN:function(e,t){e.TOKEN=t},SET_FILEDATABASE64:function(e,t){e.fileData=t},SET_PAGELIST:function(e,t){e.pagaList=t},SET_MENUS:function(e,t){e.menus=t}}}),J=a("zL8q"),Z=a.n(J);a("tvR6"),a("mKIN");a("aOHy"),a("mKIN"),a("Ia/g"),s.default.config.productionTip=!1,s.default.prototype.$axios=p.a,p.a.defaults.withCredentials=!0,p.a.defaults.baseURL="",s.default.use(Z.a,{size:"small"}),s.default.prototype.$axios=p.a,new s.default({el:"#app",store:H,router:z,components:{App:c},template:"<App/>"})},PMiP:function(e,t){},"R59/":function(e,t){},iEhR:function(e,t){},kOLW:function(e,t){},lvGi:function(e,t){},mKIN:function(e,t){
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},s=function(e,t,a){this.data=e,this.size=e.length,this.type=t,this.encoding=a},l=a.prototype,r=s.prototype,i=e.FileReaderSync,o=function(e){this.code=this[this.name=e]},n="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),d=n.length,c=e.URL||e.webkitURL||e,u=c.createObjectURL,m=c.revokeObjectURL,f=c,p=e.btoa,_=e.atob,h=e.ArrayBuffer,b=e.Uint8Array;for(s.fake=r.fake=!0;d--;)o.prototype[n[d]]=d+1;return c.createObjectURL||(f=e.URL={}),f.createObjectURL=function(e){var t,a=e.type;return null===a&&(a="application/octet-stream"),e instanceof s?(t="data:"+a,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):u?u.call(c,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&m&&m.call(c,e)},l.append=function(e){var a=this.data;if(b&&(e instanceof h||e instanceof b)){for(var l="",r=new b(e),n=0,d=r.length;n<d;n++)l+=String.fromCharCode(r[n]);a.push(l)}else if("Blob"===t(e)||"File"===t(e)){if(!i)throw new o("NOT_READABLE_ERR");var c=new i;a.push(c.readAsBinaryString(e))}else e instanceof s?"base64"===e.encoding&&_?a.push(_(e.data)):"URI"===e.encoding?a.push(decodeURIComponent(e.data)):"raw"===e.encoding&&a.push(e.data):("string"!=typeof e&&(e+=""),a.push(unescape(encodeURIComponent(e))))},l.getBlob=function(e){return arguments.length||(e=null),new s(this.data.join(""),e,"raw")},l.toString=function(){return"[object BlobBuilder]"},r.slice=function(e,t,a){var l=arguments.length;return l<3&&(a=null),new s(this.data.slice(e,l>1?t:this.data.length),a,this.encoding)},r.toString=function(){return"[object Blob]"},r.close=function(){this.size=this.data.length=0},a}(e);e.Blob=function(e,a){var s=a&&a.type||"",l=new t;if(e)for(var r=0,i=e.length;r<i;r++)l.append(e[r]);return l.getBlob(s)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},"n1/T":function(e,t){},tvR6:function(e,t){}},[0]);
//# sourceMappingURL=app.1e1a50660169017fb84d.js.map